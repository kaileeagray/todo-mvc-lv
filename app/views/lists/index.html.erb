

<section class="todoapp">
  <header class="header">
    <h1>Your Lists</h1>
    <%= form_for(@list) do |f| %>
      <%= f.text_field :name, :class => "new-todo", :placeholder => (@list.errors.full_messages_for(:name).first || "Enter a new list name...")%>
      <!-- ^^ this is TOO verbose, we would need to clean this up with a helper -->
      <%= f.submit :style => "display: none" %>
    <% end %>

</form>
<%if @auth%>
  <pre><%= JSON.pretty_generate(@auth) %></pre>
  <img src="<%= @auth[:info] && @auth[:info][:image] %>">
<%end%>
  </header>
  <section class="main">
    <input class="toggle-all" type="checkbox">
    <label for="toggle-all">Mark all as complete</label>
    <ul class="todo-list">
      <% @lists.each do |list| %>
      <li>
        <div class="view">
          <label><%= link_to list.name, list_path(list) %></label>
        </div>
      </li>
      <% end %>
    </ul>
  </section>
  <footer class="footer">
  </footer>
</section>

<footer class="info">
  <p>
    You're logged in as: <%=current_user.email%>
  </p>
  <p>
    <%=link_to "Logout", logout_path%>
  </p>
</footer>
